import { useTheme } from '@/context/ThemeContext';
import React from 'react';
import { ViewStyle } from 'react-native';
import Svg, { Path, Rect, SvgProps } from 'react-native-svg';

type LogoProps = SvgProps & {
  variant?: 'filled' | 'icon';
  size?: number;
  color?: string; // Overrides the main shape color (usually text)
  style?: ViewStyle;
};

export default function Logo({ 
  variant = 'icon', 
  size = 100, 
  color, 
  style,
  ...props 
}: LogoProps) {
  const { colors } = useTheme();

  const mainColor = colors.border;
  const primaryColor = colors.primary;
  const secondaryColor = colors.secondary;
  
  // For filled variant background
  const bgColor = colors.card;

  if (variant === 'filled') {
    return (
      <Svg 
        width={size} 
        height={size} 
        viewBox="0 0 86 86" 
        fill="none" 
        style={style}
        {...props}
      >
        <Rect width="86" height="86" rx="16" fill={bgColor} />
        {/* Main Shape (X) */}
        <Path 
          d="M15.6674 45.293C16.1535 45.2136 17.7652 45.2288 18.312 45.2288L23.185 45.2339L30.568 45.2258C33.108 45.2242 35.7732 44.8944 37.9056 46.4993C40.441 48.4073 40.1582 51.7822 40.1615 54.5926L40.1648 60.4669L40.1623 65.9171C40.1575 70.2302 40.1894 74.2699 34.8942 75.1414C30.9875 75.2873 26.9336 75.0905 23.01 75.1627C20.343 75.1264 17.6676 75.2597 15.0088 75.0593C12.6877 74.8844 10.4947 72.731 10.3315 70.4273C10.0954 67.0964 10.1867 63.7043 10.1872 60.3698L10.1897 54.706C10.19 53.1129 10.1331 51.5473 10.367 49.9651C10.7831 47.1502 12.9592 45.5868 15.6674 45.293Z" 
          fill={mainColor} 
        />
        {/* Top/Left Shape */}
        <Path 
          fillRule="evenodd" 
          clipRule="evenodd" 
          d="M40.0909 24.8524C39.5673 16.6094 32.4784 10.341 24.2334 10.83C15.9395 11.322 9.62556 18.4622 10.1523 26.754C10.6789 35.0458 17.8454 41.3297 26.135 40.7684C34.3756 40.2103 40.6144 33.0953 40.0909 24.8524ZM23.6441 15.2156C29.4949 14.4023 34.8971 18.4871 35.7086 24.3384C36.52 30.1896 32.4335 35.5904 26.582 36.4C20.7332 37.2092 15.3353 33.1249 14.5242 27.2763C13.7131 21.4278 17.7957 16.0287 23.6441 15.2156Z" 
          fill={secondaryColor} 
        />
        {/* Bottom/Right Shape */}
        <Path 
          fillRule="evenodd" 
          clipRule="evenodd" 
          d="M75.8475 59.246C75.3239 51.003 68.235 44.7345 59.99 45.2236C51.6961 45.7155 45.3822 52.8557 45.9089 61.1475C46.4355 69.4393 53.602 75.7233 61.8916 75.1619C70.1322 74.6039 76.371 67.4888 75.8475 59.246ZM59.4006 49.6091C65.2515 48.7959 70.6537 52.8806 71.4652 58.7319C72.2766 64.5831 68.1901 69.9839 62.3386 70.7936C56.4898 71.6027 51.0919 67.5184 50.2808 61.6699C49.4697 55.8214 53.5523 50.4222 59.4006 49.6091Z" 
          fill={secondaryColor} 
        />
        {/* Accent Line/Stroke */}
        <Path 
          d="M60.9265 21.3035C61.5787 20.5602 62.4262 19.836 63.1343 19.1167C65.5799 16.66 67.9447 14.1459 70.5074 11.8163C72.9601 9.58665 77.2594 12.5182 75.4296 15.8011C74.3715 17.6997 72.4669 18.9011 71.1522 20.4592C69.6206 22.2745 67.0622 24.1318 65.7111 25.9814C65.8418 26.2597 66.0436 26.6766 66.2663 26.8773C68.5825 28.9642 70.8744 31.3604 73.091 33.5313C74.9975 35.3985 77.1367 37.28 74.964 39.9596C74.2721 40.813 73.5504 40.9322 72.5574 41.0361C72.4398 41.0363 72.3221 41.0321 72.2047 41.0234C71.6652 40.9845 71.1464 40.7902 70.7052 40.4617C70.1987 40.083 69.4445 39.2699 68.9566 38.7899C67.6918 37.5606 66.4453 36.311 65.2173 35.0412C63.8171 33.6163 62.2026 32.2097 60.9258 30.6595C60.4015 31.2982 59.501 32.1237 58.898 32.7238C57.6709 33.9581 56.437 35.1847 55.196 36.4035C53.9554 37.6252 52.7711 38.8971 51.5198 40.1036C50.0403 41.5303 48.246 41.0785 46.6689 40.1672C44.8722 36.3944 46.7026 35.4849 49.1883 33.0369L53.4029 28.8248C54.3318 27.913 55.3719 27.0209 56.227 26.0544C54.4749 24.3584 52.7093 22.6123 51.0027 20.8076C49.6347 19.361 46.272 16.7783 45.9276 14.7142C45.5713 12.5797 47.1855 11.3879 49.0718 11.1051C51.1601 10.955 52.6723 13.16 54.0686 14.5423L60.9265 21.3035Z" 
          fill={primaryColor} 
        />
      </Svg>
    );
  }

  // Variant: 'icon' (Vector)
  return (
    <Svg 
      width={size} 
      height={size} 
      viewBox="0 0 66 65" 
      fill="none" 
      style={style}
      {...props}
    >
      <Path 
        d="M5.54585 34.4898C6.03196 34.4104 7.6436 34.4256 8.19042 34.4256L13.0634 34.4307L20.4464 34.4225C22.9864 34.421 25.6516 34.0912 27.7841 35.6961C30.3195 37.6041 30.0366 40.9789 30.0399 43.7893L30.0433 49.6637L30.0407 55.1139C30.0359 59.427 30.0678 63.4666 24.7726 64.3382C20.8659 64.484 16.812 64.2873 12.8884 64.3595C10.2214 64.3232 7.54599 64.4565 4.88723 64.256C2.56615 64.0812 0.373127 61.9278 0.209916 59.624C-0.0261375 56.2932 0.065112 52.9011 0.0656015 49.5666L0.0681457 43.9028C0.0684394 42.3097 0.0115559 40.7441 0.245456 39.1618C0.661561 36.3469 2.83764 34.7836 5.54585 34.4898Z" 
        fill={mainColor} 
      />
      <Path 
        fillRule="evenodd" 
        clipRule="evenodd" 
        d="M29.9693 14.0492C29.4457 5.80622 22.3568 -0.462267 14.1118 0.0267751C5.81788 0.518753 -0.49602 7.65895 0.030701 15.9507C0.557324 24.2425 7.72384 30.5265 16.0134 29.9651C24.254 29.4071 30.4928 22.2921 29.9693 14.0492ZM13.5225 4.41236C19.3734 3.59908 24.7755 7.68387 25.587 13.5351C26.3985 19.3863 22.3119 24.7871 16.4604 25.5968C10.6116 26.406 5.21375 22.3217 4.40263 16.4731C3.5915 10.6246 7.67413 5.22544 13.5225 4.41236Z" 
        fill={secondaryColor} 
      />
      <Path 
        fillRule="evenodd" 
        clipRule="evenodd" 
        d="M65.7259 48.4427C65.2023 40.1998 58.1134 33.9313 49.8684 34.4203C41.5745 34.9123 35.2606 42.0525 35.7873 50.3443C36.3139 58.6361 43.4804 64.9201 51.77 64.3587C60.0106 63.8006 66.2499 56.6856 65.7259 48.4427ZM49.2791 38.8059C55.13 37.9926 60.5321 42.0774 61.3436 47.9287C62.155 53.7799 58.0685 59.1807 52.217 59.9903C46.3682 60.7995 40.9703 56.7152 40.1592 50.8667C39.3481 45.0181 43.4307 39.619 49.2791 38.8059Z" 
        fill={secondaryColor} 
      />
      <Path 
        d="M50.805 10.5003C51.4572 9.757 52.3047 9.03278 53.0127 8.31351C55.4583 5.85674 57.8231 3.34271 60.3858 1.01303C62.8385 -1.21657 67.1378 1.71497 65.3081 4.99789C64.2499 6.89644 62.3453 8.0979 61.0307 9.656C59.499 11.4713 56.9406 13.3286 55.5895 15.1782C55.7202 15.4565 55.922 15.8734 56.1447 16.0741C58.461 18.1609 60.7528 20.5571 62.9694 22.7281C64.8759 24.5952 67.0151 26.4768 64.8424 29.1564C64.1505 30.0098 63.4288 30.129 62.4358 30.2329C62.3182 30.2331 62.2005 30.2289 62.0831 30.2202C61.5436 30.1813 61.0248 29.987 60.5836 29.6585C60.0771 29.2798 59.3229 28.4667 58.835 27.9867C57.5703 26.7574 56.3237 25.5077 55.0957 24.238C53.6956 22.8131 52.081 21.4065 50.8042 19.8562C50.2799 20.4949 49.3794 21.3205 48.7764 21.9206C47.5494 23.1548 46.3154 24.3815 45.0744 25.6003C43.8338 26.822 42.6495 28.0939 41.3983 29.3004C39.9187 30.7271 38.1244 30.2753 36.5473 29.3639C34.7506 25.5912 36.581 24.6817 39.0667 22.2337L43.2813 18.0216C44.2102 17.1098 45.2503 16.2177 46.1054 15.2512C44.3533 13.5552 42.5877 11.8091 40.8811 10.0044C39.5132 8.55781 36.1504 5.97507 35.806 3.91094C35.4497 1.77645 37.0639 0.58469 38.9502 0.301914C41.0385 0.151809 42.5508 2.35676 43.9471 3.73907L50.805 10.5003Z" 
        fill={primaryColor} 
      />
    </Svg>
  );
}
